```jsx
import React, { useState, useEffect } from "react";

const App = () => {
  const [selectedLetters, setSelectedLetters] = useState([]);
  const [currentWord, setCurrentWord] = useState("");
  const [showAnswer, setShowAnswer] = useState(false);
  const [isPlaying, setIsPlaying] = useState(false);
  const [currentCvcWord, setCurrentCvcWord] = useState(null);
  const [wordIndex, setWordIndex] = useState(0);
  const [feedback, setFeedback] = useState("");
  const [showFeedback, setShowFeedback] = useState(false);
  const [showLevelSelector, setShowLevelSelector] = useState(false);
  const [currentLevel, setCurrentLevel] = useState(1);
  const [showWordList, setShowWordList] = useState(false);
  const [mode, setMode] = useState("free"); // "challenge" or "free"
  const [freeWord, setFreeWord] = useState("");
  const [selectedWordForPronunciation, setSelectedWordForPronunciation] = useState("");

  // CVCå•è¯æ•°æ®åº“
  const cvcWords = [
    { word: "bag", ipa: "/bÃ¦É¡/", letters: ["b", "a", "g"] },
    { word: "bed", ipa: "/bed/", letters: ["b", "e", "d"] },
    { word: "met", ipa: "/met/", letters: ["m", "e", "t"] },
    { word: "cat", ipa: "/kÃ¦t/", letters: ["c", "a", "t"] },
    { word: "cop", ipa: "/kÉ’p/", letters: ["c", "o", "p"] },
    { word: "fig", ipa: "/fÉªÉ¡/", letters: ["f", "i", "g"] },
    { word: "hum", ipa: "/hÊŒm/", letters: ["h", "u", "m"] },
    { word: "tug", ipa: "/tÊŒÉ¡/", letters: ["t", "u", "g"] },
    { word: "mat", ipa: "/mÃ¦t/", letters: ["m", "a", "t"] },
    { word: "beg", ipa: "/beÉ¡/", letters: ["b", "e", "g"] },
    { word: "job", ipa: "/dÊ’É’b/", letters: ["j", "o", "b"] },
    { word: "map", ipa: "/mÃ¦p/", letters: ["m", "a", "p"] },
    { word: "hot", ipa: "/hÉ’t/", letters: ["h", "o", "t"] },
    { word: "dog", ipa: "/dÉ’É¡/", letters: ["d", "o", "g"] },
    { word: "run", ipa: "/rÊŒn/", letters: ["r", "u", "n"] },
    { word: "sad", ipa: "/sÃ¦d/", letters: ["s", "a", "d"] },
    { word: "pat", ipa: "/pÃ¦t/", letters: ["p", "a", "t"] },
    { word: "fog", ipa: "/fÉ’É¡/", letters: ["f", "o", "g"] },
    { word: "fan", ipa: "/fÃ¦n/", letters: ["f", "a", "n"] },
    { word: "fit", ipa: "/fÉªt/", letters: ["f", "i", "t"] },
    { word: "tub", ipa: "/tÊŒb/", letters: ["t", "u", "b"] },
    { word: "jet", ipa: "/dÊ’et/", letters: ["j", "e", "t"] },
    { word: "fox", ipa: "/fÉ’ks/", letters: ["f", "o", "x"] },
    { word: "pin", ipa: "/pÉªn/", letters: ["p", "i", "n"] },
    { word: "cut", ipa: "/kÊŒt/", letters: ["c", "u", "t"] },
    { word: "gum", ipa: "/É¡ÊŒm/", letters: ["g", "u", "m"] },
    { word: "jug", ipa: "/dÊ’ÊŒÉ¡/", letters: ["j", "u", "g"] },
    { word: "pod", ipa: "/pÉ’d/", letters: ["p", "o", "d"] },
    { word: "tab", ipa: "/tÃ¦b/", letters: ["t", "a", "b"] },
    { word: "ten", ipa: "/ten/", letters: ["t", "e", "n"] },
    { word: "bus", ipa: "/bÊŒs/", letters: ["b", "u", "s"] },
    { word: "win", ipa: "/wÉªn/", letters: ["w", "i", "n"] },
    { word: "mop", ipa: "/mÉ’p/", letters: ["m", "o", "p"] },
    { word: "bat", ipa: "/bÃ¦t/", letters: ["b", "a", "t"] },
    { word: "bet", ipa: "/bet/", letters: ["b", "e", "t"] },
    { word: "rat", ipa: "/rÃ¦t/", letters: ["r", "a", "t"] },
    { word: "lap", ipa: "/lÃ¦p/", letters: ["l", "a", "p"] },
    { word: "nap", ipa: "/nÃ¦p/", letters: ["n", "a", "p"] },
    { word: "pan", ipa: "/pÃ¦n/", letters: ["p", "a", "n"] },
    { word: "log", ipa: "/lÉ’É¡/", letters: ["l", "o", "g"] },
    { word: "hat", ipa: "/hÃ¦t/", letters: ["h", "a", "t"] },
    { word: "pot", ipa: "/pÉ’t/", letters: ["p", "o", "t"] },
    { word: "bug", ipa: "/bÊŒÉ¡/", letters: ["b", "u", "g"] },
    { word: "top", ipa: "/tÉ’p/", letters: ["t", "o", "top"] },
    { word: "cup", ipa: "/kÊŒp/", letters: ["c", "u", "p"] },
    { word: "jut", ipa: "/dÊ’ÊŒt/", letters: ["j", "u", "t"] },
    { word: "nod", ipa: "/nÉ’d/", letters: ["n", "o", "d"] },
    { word: "mom", ipa: "/mÉ’m/", letters: ["m", "o", "m"] },
    { word: "can", ipa: "/kÃ¦n/", letters: ["c", "a", "n"] },
    { word: "rug", ipa: "/rÊŒÉ¡/", letters: ["r", "u", "g"] },
    { word: "mum", ipa: "/mÊŒm/", letters: ["m", "u", "m"] },
    { word: "hut", ipa: "/hÊŒt/", letters: ["h", "u", "t"] },
    { word: "mud", ipa: "/mÊŒd/", letters: ["m", "u", "mud"] },
    { word: "Ben", ipa: "/ben/", letters: ["B", "e", "n"] },
    { word: "sit", ipa: "/sÉªt/", letters: ["s", "i", "t"] },
    { word: "Rob", ipa: "/rÉ’b/", letters: ["R", "o", "b"] },
    { word: "pox", ipa: "/pÉ’ks/", letters: ["p", "o", "x"] },
    { word: "hug", ipa: "/hÊŒÉ¡/", letters: ["h", "u", "g"] },
    { word: "hit", ipa: "/hÉªt/", letters: ["h", "i", "t"] },
    { word: "max", ipa: "/mÃ¦ks/", letters: ["m", "a", "x"] },
    { word: "six", ipa: "/sÉªks/", letters: ["s", "i", "x"] },
    { word: "van", ipa: "/vÃ¦n/", letters: ["v", "a", "n"] },
    { word: "cap", ipa: "/kÃ¦p/", letters: ["c", "a", "p"] },
    { word: "box", ipa: "/bÉ’ks/", letters: ["b", "o", "x"] },
    { word: "tag", ipa: "/tÃ¦É¡/", letters: ["t", "a", "g"] },
    { word: "leg", ipa: "/leÉ¡/", letters: ["l", "e", "g"] },
    { word: "tad", ipa: "/tÃ¦d/", letters: ["t", "a", "d"] },
    { word: "lid", ipa: "/lÉªd/", letters: ["l", "i", "d"] },
    { word: "sun", ipa: "/sÊŒn/", letters: ["s", "u", "n"] },
    { word: "lip", ipa: "/lÉªp/", letters: ["l", "i", "p"] },
    { word: "dad", ipa: "/dÃ¦d/", letters: ["d", "a", "d"] },
    { word: "lox", ipa: "/lÉ’ks/", letters: ["l", "o", "x"] },
    { word: "dip", ipa: "/dÉªp/", letters: ["d", "i", "p"] },
    { word: "zag", ipa: "/zÃ¦É¡/", letters: ["z", "a", "g"] },
    { word: "hop", ipa: "/hÉ’p/", letters: ["h", "o", "p"] },
    { word: "bum", ipa: "/bÊŒm/", letters: ["b", "u", "m"] },
    { word: "pet", ipa: "/pet/", letters: ["p", "e", "t"] },
    { word: "dot", ipa: "/dÉ’t/", letters: ["d", "o", "t"] },
    { word: "net", ipa: "/net/", letters: ["n", "e", "t"] },
    { word: "big", ipa: "/bÉªÉ¡/", letters: ["b", "i", "g"] },
    { word: "sop", ipa: "/sÉ’p/", letters: ["s", "o", "p"] },
    { word: "pop", ipa: "/pÉ’p/", letters: ["p", "o", "p"] },
    { word: "vet", ipa: "/vet/", letters: ["v", "e", "t"] },
    { word: "mug", ipa: "/mÊŒÉ¡/", letters: ["m", "u", "g"] },
    { word: "jog", ipa: "/dÊ’É’É¡/", letters: ["j", "o", "g"] },
    { word: "hog", ipa: "/hÉ’É¡/", letters: ["h", "o", "g"] },
    { word: "kit", ipa: "/kÉªt/", letters: ["k", "i", "t"] },
    { word: "hen", ipa: "/hen/", letters: ["h", "e", "n"] },
    { word: "wed", ipa: "/wed/", letters: ["w", "e", "d"] },
    { word: "wet", ipa: "/wet/", letters: ["w", "e", "t"] },
    { word: "ran", ipa: "/rÃ¦n/", letters: ["r", "a", "n"] },
    { word: "pig", ipa: "/pÉªÉ¡/", letters: ["p", "i", "g"] },
    { word: "bun", ipa: "/bÊŒn/", letters: ["b", "u", "n"] },
    { word: "pen", ipa: "/pen/", letters: ["p", "e", "n"] },
    { word: "cod", ipa: "/kÉ’d/", letters: ["c", "o", "d"] },
    { word: "zip", ipa: "/zÉªp/", letters: ["z", "i", "p"] },
    { word: "lug", ipa: "/lÊŒÉ¡/", letters: ["l", "u", "g"] },
    { word: "fix", ipa: "/fÉªks/", letters: ["f", "i", "x"] },
    { word: "mob", ipa: "/mÉ’b/", letters: ["m", "o", "b"] },
    { word: "bit", ipa: "/bÉªt/", letters: ["b", "i", "t"] }
  ];

  // æœ‰æ„ä¹‰çš„å•è¯åˆ—è¡¨ï¼ˆç”¨äºç»ƒä¹ ç‰ˆæ£€æŸ¥ï¼‰
  const validWords = cvcWords.map(wordObj => wordObj.word.toLowerCase());

  // å°†å•è¯åˆ†ä¸º10ä¸ªå…³å¡
  const levels = Array.from({ length: 10 }, (_, i) => ({
    level: i + 1,
    words: cvcWords.slice(i * 10, (i + 1) * 10)
  }));

  // å­—æ¯å‘éŸ³æ˜ å°„
  const letterSounds = {
    a: "Ã¦", b: "b", c: "k", d: "d", e: "e", f: "f", 
    g: "É¡", h: "h", i: "Éª", j: "dÊ’", k: "k", l: "l", 
    m: "m", n: "n", o: "É’", p: "p", q: "kw", r: "r", 
    s: "s", t: "t", u: "ÊŒ", v: "v", w: "w", x: "ks", 
    y: "j", z: "z"
  };

  // éŸ³æ ‡åˆ°éŸ³é¢‘æ–‡ä»¶çš„æ˜ å°„
  const ipaToAudioMap = {
    "Ã¦": "a",
    "b": "b",
    "k": "c",
    "d": "d",
    "e": "e",
    "f": "f",
    "É¡": "g",
    "h": "h",
    "Éª": "i",
    "dÊ’": "j",
    "l": "l",
    "m": "m",
    "n": "n",
    "É’": "o",
    "p": "p",
    "r": "r",
    "s": "s",
    "t": "t",
    "ÊŒ": "u",
    "v": "v",
    "w": "w",
    "ks": "x",
    "j": "y",
    "z": "z"
  };

  useEffect(() => {
    if (levels.length > 0 && mode === "challenge") {
      setCurrentCvcWord(levels[0].words[0]);
    }
  }, [mode]);

  const nextWord = () => {
    if (mode !== "challenge") return;
    const words = levels[currentLevel - 1].words;
    const nextIndex = (wordIndex + 1) % words.length;
    setWordIndex(nextIndex);
    setCurrentCvcWord(words[nextIndex]);
    setSelectedLetters([]);
    setCurrentWord("");
    setShowAnswer(false);
    setFeedback("");
    setShowFeedback(false);
  };

  const prevWord = () => {
    if (mode !== "challenge") return;
    const words = levels[currentLevel - 1].words;
    const prevIndex = wordIndex === 0 ? words.length - 1 : wordIndex - 1;
    setWordIndex(prevIndex);
    setCurrentCvcWord(words[prevIndex]);
    setSelectedLetters([]);
    setCurrentWord("");
    setShowAnswer(false);
    setFeedback("");
    setShowFeedback(false);
  };

  const handleLetterClick = (letter) => {
    playLetterSound(letter);
    if (mode === "challenge") {
      if (selectedLetters.length < 3 && !selectedLetters.includes(letter)) {
        setSelectedLetters([...selectedLetters, letter]);
        setCurrentWord(prev => prev + letter);
      }
    } else {
      if (freeWord.length < 3) {
        setFreeWord(prev => prev + letter);
      }
    }
  };

  const handleDragStart = (e, letter) => {
    e.dataTransfer.setData("text/plain", letter);
  };

  const handleDrop = (e, index) => {
    e.preventDefault();
    const letter = e.dataTransfer.getData("text/plain");
    if (mode === "challenge") {
      if (selectedLetters.length <= index && !selectedLetters.includes(letter)) {
        const newSelected = [...selectedLetters];
        newSelected[index] = letter;
        setSelectedLetters(newSelected);
        setCurrentWord(newSelected.filter(l => l).join(''));
      }
    }
  };

  const handleDragOver = (e) => {
    e.preventDefault();
  };

  const removeLetter = (index) => {
    if (mode === "challenge") {
      const newSelected = [...selectedLetters];
      newSelected.splice(index, 1);
      setSelectedLetters(newSelected);
      setCurrentWord(newSelected.filter(l => l).join(''));
    } else {
      setFreeWord(prev => prev.slice(0, -1));
    }
  };

  const resetGame = () => {
    if (mode === "challenge") {
      setSelectedLetters([]);
      setCurrentWord("");
    } else {
      setFreeWord("");
    }
    setShowAnswer(false);
    setFeedback("");
    setShowFeedback(false);
  };

  const selectLevel = (level) => {
    setCurrentLevel(level);
    setWordIndex(0);
    setCurrentCvcWord(levels[level - 1].words[0]);
    setSelectedLetters([]);
    setCurrentWord("");
    setShowAnswer(false);
    setFeedback("");
    setShowFeedback(false);
    setShowLevelSelector(false);
  };

  // è‡ªåŠ¨æ£€æŸ¥ç­”æ¡ˆ
  useEffect(() => {
    if (mode === "challenge" && currentWord.length === 3 && currentCvcWord) {
      if (currentWord.toLowerCase() === currentCvcWord.word.toLowerCase()) {
        setFeedback("ğŸ‰ å¤ªæ£’äº†ï¼ç­”æ¡ˆæ­£ç¡®ï¼");
        setShowFeedback(true);
        setShowAnswer(true);
      } else {
        setFeedback("âŒ ä¸å¯¹å“¦ï¼Œå†è¯•è¯•çœ‹ï¼");
        setShowFeedback(true);
        setTimeout(() => setShowFeedback(false), 2000);
      }
    }
  }, [currentWord, currentCvcWord, mode]);

  const getLetterColor = (letter) => {
    const colors = {
      a: 'bg-red-200', b: 'bg-blue-200', c: 'bg-yellow-200', 
      d: 'bg-green-200', e: 'bg-teal-200', f: 'bg-blue-200',
      g: 'bg-blue-200', h: 'bg-purple-200', i: 'bg-pink-200',
      j: 'bg-red-300', k: 'bg-orange-300', l: 'bg-yellow-300',
      m: 'bg-green-300', n: 'bg-teal-300', o: 'bg-blue-300',
      p: 'bg-indigo-300', q: 'bg-purple-300', r: 'bg-pink-300',
      s: 'bg-red-400', t: 'bg-orange-400', u: 'bg-yellow-400',
      v: 'bg-green-400', w: 'bg-teal-400', x: 'bg-blue-400',
      y: 'bg-indigo-400', z: 'bg-purple-400'
    };
    return colors[letter] || 'bg-gray-200';
  };

  const switchMode = (newMode) => {
    setMode(newMode);
    resetGame();
    if (newMode === "challenge") {
      setCurrentCvcWord(levels[0].words[0]);
    }
  };

  // è·å–å•è¯çš„IPAéŸ³æ ‡
  const getWordIPA = (word) => {
    const foundWord = cvcWords.find(w => w.word.toLowerCase() === word.toLowerCase());
    return foundWord ? foundWord.ipa : "";
  };

  // æ’­æ”¾å•è¯å‘éŸ³
  const playWordPronunciation = (word) => {
    setSelectedWordForPronunciation(word);
    const audio = new Audio(`https://dict.youdao.com/dictvoice?audio=${word}&type=2`);
    audio.play().catch(e => console.log("éŸ³é¢‘æ’­æ”¾å¤±è´¥:", e));
  };

  // æ’­æ”¾å­—æ¯å‘éŸ³
  const playLetterSound = (letter) => {
    const audio = new Audio(`https://raw.githubusercontent.com/Lichong-123-LTR/Phonics-/main/${letter.toLowerCase()}.mp3`);
    audio.play().catch(e => console.log("éŸ³é¢‘æ’­æ”¾å¤±è´¥:", e));
  };

  // æ’­æ”¾éŸ³æ ‡å‘éŸ³
  const playIpaSound = (ipa) => {
    // ç§»é™¤æ–œæ 
    const cleanIpa = ipa.replace(/\//g, '');
    // æŸ¥æ‰¾å¯¹åº”çš„éŸ³é¢‘æ–‡ä»¶
    const audioFile = ipaToAudioMap[cleanIpa];
    if (audioFile) {
      const audio = new Audio(`https://raw.githubusercontent.com/Lichong-123-LTR/Phonics-/main/${audioFile}.mp3`);
      audio.play().catch(e => console.log("éŸ³é¢‘æ’­æ”¾å¤±è´¥:", e));
    }
  };

  if (mode === "challenge" && !currentCvcWord) {
    return <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center">
      <div className="text-2xl text-indigo-600">åŠ è½½ä¸­...</div>
    </div>;
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4">
      <div className="max-w-6xl mx-auto">
        {/* Header */}
        <div className="text-center mb-8 pt-8">
          <h1 className="text-4xl font-bold text-indigo-800 mb-2">
            è™«å¦ˆLTRè‡ªç„¶æ‹¼è¯»
          </h1>
          {/* Mode Switch */}
          <div className="flex justify-center space-x-4 mb-4">
            <button
              onClick={() => switchMode("free")}
              className={`px-6 py-2 rounded-lg font-semibold transition-colors duration-200 ${
                mode === "free" 
                  ? 'bg-indigo-600 text-white' 
                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
              }`}
            >
              ç»ƒä¹ æ¨¡å¼
            </button>
            <button
              onClick={() => switchMode("challenge")}
              className={`px-6 py-2 rounded-lg font-semibold transition-colors duration-200 ${
                mode === "challenge" 
                  ? 'bg-indigo-600 text-white' 
                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
              }`}
            >
              é—¯å…³æ¨¡å¼
            </button>
          </div>
        </div>

        {mode === "challenge" ? (
          <>
            {/* Main Game Area */}
            <div className="bg-white rounded-2xl shadow-xl p-8 mb-8">
              {/* Word Display and Controls - å·¦å³åˆ†æ å¸ƒå±€ */}
              <div className="flex gap-8">
                {/* å·¦ä¾§åŒºåŸŸ - å æ®ä¸€åŠå®½åº¦ */}
                <div className="w-1/2">
                  {/* Word Navigation */}
                  <div className="flex justify-center items-center mb-6">
                    <button
                      onClick={prevWord}
                      className="bg-indigo-100 hover:bg-indigo-200 text-indigo-700 px-6 py-2 rounded-lg font-semibold transition-colors duration-200 mr-4"
                    >
                      â†
                    </button>
                    
                    <div className="text-center mx-4">
                      <div className="text-4xl font-bold text-indigo-700" style={{ width: '68px', margin: '0 auto' }}>
                        {currentCvcWord.word}
                      </div>
                    </div>
                    
                    <button
                      onClick={nextWord}
                      className="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors duration-200 ml-4"
                    >
                      â†’
                    </button>
                  </div>

                  {/* Letter Slots - è“çº¢è“èƒŒæ™¯è‰² */}
                  <div className="flex space-x-3 mb-6 justify-center">
                    {[0, 1, 2].map((index) => (
                      <div
                        key={index}
                        className={`w-20 h-20 border-2 ${
                          index === 0 || index === 2 ? 'border-blue-400 bg-blue-100' : 'border-red-400 bg-red-100'
                        } flex items-center justify-center text-3xl font-bold cursor-pointer transition-all duration-200 hover:bg-gray-50 rounded-lg shadow-md`}
                        onDrop={(e) => handleDrop(e, index)}
                        onDragOver={handleDragOver}
                        onClick={() => selectedLetters[index] && removeLetter(index)}
                      >
                        {selectedLetters[index] || (
                          <span className="text-gray-400 text-2xl">_</span>
                        )}
                      </div>
                    ))}
                  </div>

                  {/* IPA Sound Boxes - å­—ä½“å¢å¤§2å·ï¼Œå¹¶ä¸Šä¸‹å·¦å³å±…ä¸­ */}
                  <div className="flex space-x-3 mb-6 justify-center">
                    {[0, 1, 2].map((index) => (
                      <div 
                        key={index}
                        className={`bg-blue-50 border-2 border-blue-300 p-3 rounded-lg text-center cursor-pointer hover:bg-blue-100 transition-colors duration-200 w-20 ${
                          index === 1 ? 'bg-red-50 border-red-300 hover:bg-red-100' : ''
                        }`}
                        style={{ height: '80px' }}
                        onClick={() => currentWord.length === 3 && playIpaSound(`/${letterSounds[currentCvcWord.letters[index]]}/`)}
                      >
                        {currentWord.length === 3 ? (
                          <div className="text-xl font-bold flex items-center justify-center h-full">/{letterSounds[currentCvcWord.letters[index]]}/</div>
                        ) : (
                          <div className="flex items-center justify-center h-full">
                            <span className="text-gray-400 text-2xl">_</span>
                          </div>
                        )}
                      </div>
                    ))}
                  </div>
                </div>

                {/* å³ä¾§åŒºåŸŸ - å æ®ä¸€åŠå®½åº¦ */}
                <div className="w-1/2">
                  {/* Level Selector and Word List Controls */}
                  <div className="flex justify-end items-center mb-6">
                    <div className="text-right">
                      <div className="flex justify-end space-x-2">
                        <button
                          onClick={() => setShowWordList(!showWordList)}
                          className="bg-purple-100 hover:bg-purple-200 text-purple-700 px-4 py-2 rounded-lg font-semibold transition-colors duration-200 text-lg"
                        >
                          {showWordList ? 'éšè—å•è¯åˆ—è¡¨' : 'æ˜¾ç¤ºå•è¯åˆ—è¡¨'}
                        </button>
                        <button
                          onClick={() => setShowLevelSelector(!showLevelSelector)}
                          className="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors duration-200"
                          style={{ width: '120px' }}
                        >
                          é€‰æ‹©å…³å¡
                        </button>
                      </div>
                    </div>
                  </div>

                  {/* Feedback Area - ä¸€ç›´æ˜¾ç¤ºï¼Œæœªæ‹¼è¯æ—¶åªæ˜¾ç¤ºèƒŒæ™¯è‰²ï¼Œé«˜åº¦å¢é«˜1/10ï¼Œæ‰€æœ‰æ–‡å­—å­—å·å‡å°4ä¸ªå­—å· */}
                  <div className="mt-6">
                    <div className={`p-6 rounded-xl border-2 ${
                      showAnswer ? 'bg-yellow-50 border-yellow-200' : 'bg-gray-100 border-gray-200'
                    }`} style={{ height: '176px' }}>
                      {showFeedback && (
                        <div className={`mb-2 p-3 rounded-lg font-semibold ${
                          feedback.includes('å¤ªæ£’äº†') ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
                        }`} style={{ height: '40px' }}>
                          <div className="flex items-center">
                            <svg className="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                              <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                            </svg>
                            <span className="text-sm">{feedback}</span>
                          </div>
                        </div>
                      )}

                      {showAnswer && (
                        <div className="text-center">
                          <button
                            onClick={() => playWordPronunciation(currentCvcWord.word)}
                            className="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-1 rounded-lg font-semibold transition-colors duration-200 flex items-center mx-auto mb-3 text-sm"
                            style={{ height: '35px' }}
                          >
                            <svg className="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                              <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.106A1 1 0 008 8v4a1 1 0 001.555.894l3-2a1 1 0 000-1.788l-3-2z" clipRule="evenodd" />
                            </svg>
                            å¬å‘éŸ³
                          </button>
                          {/* é‡æ–°å¼€å§‹æŒ‰é’®ç§»åŠ¨åˆ°å¬å‘éŸ³ä¸‹æ–¹ï¼Œå­—å·å‡å°ï¼Œé«˜åº¦å‡å°1/3 */}
                          <button
                            onClick={resetGame}
                            className="bg-gray-500 hover:bg-gray-600 text-white px-4 py-1 rounded-lg font-semibold transition-colors duration-200 mx-auto block text-sm"
                            style={{ height: '30px' }}
                          >
                            ğŸ”„ é‡æ–°å¼€å§‹
                          </button>
                        </div>
                      )}

                      {/* æœªæ‹¼è¯æ—¶æ˜¾ç¤ºç©ºç™½å†…å®¹ */}
                      {!showAnswer && !showFeedback && (
                        <div className="text-center text-gray-400 h-full flex flex-col items-center justify-center">
                          <div className="text-3xl mb-2">?</div>
                          <div className="text-base">ç­‰å¾…æ‹¼è¯ç»“æœ</div>
                          {/* é‡æ–°å¼€å§‹æŒ‰é’®åœ¨æœªæ‹¼è¯æ—¶ä¹Ÿæ˜¾ç¤ºï¼Œå­—å·å‡å°ï¼Œé«˜åº¦å‡å°1/3 */}
                          <button
                            onClick={resetGame}
                            className="bg-gray-500 hover:bg-gray-600 text-white px-4 py-1 rounded-lg font-semibold transition-colors duration-200 mx-auto block mt-4 text-sm"
                            style={{ height: '30px' }}
                          >
                            ğŸ”„ é‡æ–°å¼€å§‹
                          </button>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              </div>

              {/* Level Selector Modal */}
              {showLevelSelector && (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                  <div className="bg-white rounded-2xl p-6 max-w-4xl w-full mx-4 max-h-96 overflow-y-auto">
                    <div className="flex justify-between items-center mb-4">
                      <h3 className="text-xl font-bold text-indigo-800">é€‰æ‹©å…³å¡</h3>
                      <button
                        onClick={() => setShowLevelSelector(false)}
                        className="text-gray-500 hover:text-gray-700 text-2xl"
                      >
                        Ã—
                      </button>
                    </div>
                    <div className="grid grid-cols-5 gap-4">
                      {levels.map((levelData) => (
                        <button
                          key={levelData.level}
                          onClick={() => selectLevel(levelData.level)}
                          className={`p-4 rounded-lg font-semibold transition-colors duration-200 ${
                            currentLevel === levelData.level
                              ? 'bg-indigo-600 text-white'
                              : 'bg-gray-100 hover:bg-gray-200 text-gray-700'
                          }`}
                        >
                          ç¬¬{levelData.level}å…³
                        </button>
                      ))}
                    </div>
                  </div>
                </div>
              )}

              {/* Word List - æ‚¬æµ®æ˜¾ç¤ºï¼Œé•¿åº¦æ”¹ä¸º1.2å€ */}
              {showWordList && (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                  <div className="bg-white rounded-2xl p-6 max-w-4xl w-full mx-4 max-h-96 overflow-y-auto" style={{ width: '120%' }}>
                    <div className="flex justify-between items-center mb-4">
                      <h3 className="text-xl font-bold text-indigo-800">å•è¯åˆ—è¡¨</h3>
                      <button
                        onClick={() => setShowWordList(false)}
                        className="text-gray-500 hover:text-gray-700 text-2xl"
                      >
                        Ã—
                      </button>
                    </div>
                    <div className="grid grid-cols-5 gap-2">
                      {levels[currentLevel - 1].words.map((wordObj, index) => (
                        <div 
                          key={index} 
                          className="text-center p-2 bg-white rounded border cursor-pointer hover:bg-gray-100 transition-colors duration-200"
                          style={{ width: '50%' }} // å•è¯å†…å®¹æ¡†é•¿åº¦æ”¹ä¸º0.5å€
                          onClick={() => playWordPronunciation(wordObj.word)} // ç‚¹å‡»å•è¯å‘éŸ³
                        >
                          <div className="font-bold text-sm">{wordObj.word}</div>
                          <div className="text-xs text-gray-500">{wordObj.ipa}</div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              )}
              
              {/* Letters Grid */}
              <div className="grid grid-cols-7 gap-3 mt-8">
                {Object.keys(letterSounds).map((letter) => (
                  <div
                    key={letter}
                    draggable
                    onDragStart={(e) => handleDragStart(e, letter)}
                    onClick={() => handleLetterClick(letter)}
                    className={`${getLetterColor(letter)} hover:opacity-80 text-gray-800 font-bold rounded-xl p-4 text-3xl cursor-pointer shadow-md transform transition-all duration-200 hover:scale-105 active:scale-95 border-2 border-white hover:border-indigo-300`}
                  >
                    <div className="text-center">
                      <div className="text-3xl font-bold">{letter.toLowerCase()}</div>
                      <div className="text-base opacity-75 mt-1">/{letterSounds[letter]}/</div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </>
        ) : (
          /* ç»ƒä¹ ç‰ˆ */
          <div className="bg-white rounded-2xl shadow-xl p-8 mb-8">
            {/* ç»ƒä¹ ç‰ˆæ‹¼è¯åŒºåŸŸ */}
            <div className="flex flex-col items-center mb-6">
              {/* æ‹¼è¯æ˜¾ç¤ºåŒºåŸŸ - è“çº¢è“èƒŒæ™¯è‰² */}
              <div className="flex space-x-3 mb-4 justify-center">
                {[0, 1, 2].map((index) => (
                  <div
                    key={index}
                    className={`w-20 h-20 border-2 ${
                      index === 0 || index === 2 ? 'border-blue-400 bg-blue-100' : 'border-red-400 bg-red-100'
                    } flex items-center justify-center text-3xl font-bold cursor-pointer transition-all duration-200 hover:bg-gray-50 rounded-lg shadow-md`}
                    onClick={() => freeWord[index] && removeLetter(index)}
                  >
                    {freeWord[index] || (
                      <span className="text-gray-400 text-2xl">_</span>
                    )}
                  </div>
                ))}
              </div>

              {/* å½“å‰å•è¯æ˜¾ç¤º - å§‹ç»ˆæ˜¾ç¤ºæŒ‰é’® */}
              <div className="text-center mb-4">
                <div className="text-xl text-gray-700 mb-2" style={{ height: '60px' }}>
                  <div className="flex items-center justify-center">
                    <span className="font-bold text-indigo-700 text-2xl">{freeWord || "___"}</span>
                    {/* å¬å‘éŸ³å†…å®¹ç‰ˆå—ç§»åŠ¨åˆ°æ¸…ç©ºç‰ˆå—å·¦ä¾§ */}
                    <button
                      onClick={() => freeWord && playWordPronunciation(freeWord)}
                      className="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-lg font-semibold transition-colors duration-200 ml-4 text-sm mr-2"
                      disabled={!freeWord}
                    >
                      ğŸµ å¬å‘éŸ³
                    </button>
                    <button
                      onClick={resetGame}
                      className="bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded-lg font-semibold transition-colors duration-200 text-sm"
                    >
                      ğŸ”„ æ¸…ç©º
                    </button>
                  </div>
                </div>
                {/* åé¦ˆä¿¡æ¯ */}
                {showFeedback && (
                  <div className="mt-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg text-sm">
                    è¿™ä¸ªå•è¯æ˜¯æ— æ„ä¹‰å•è¯ï¼Œä¸å‘éŸ³
                  </div>
                )}
              </div>
            </div>

            {/* å­—æ¯ç½‘æ ¼ - é«˜åº¦æ”¹ä¸º2/3 */}
            <div className="grid grid-cols-7 gap-3">
              {Object.keys(letterSounds).map((letter) => (
                <div
                  key={letter}
                  draggable
                  onDragStart={(e) => handleDragStart(e, letter)}
                  onClick={() => handleLetterClick(letter)}
                  className={`${getLetterColor(letter)} hover:opacity-80 text-gray-800 font-bold rounded-xl p-3 text-3xl cursor-pointer shadow-md transform transition-all duration-200 hover:scale-105 active:scale-95 border-2 border-white hover:border-indigo-300`}
                  style={{ height: '80px' }}
                >
                  <div className="text-center">
                    <div className="text-3xl font-bold">{letter.toLowerCase()}</div>
                    <div 
                      className="text-base opacity-75 mt-1 cursor-pointer hover:underline"
                      onClick={(e) => {
                        e.stopPropagation();
                        playIpaSound(`/${letterSounds[letter]}/`);
                      }}
                    >
                      /{letterSounds[letter]}/
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}
      </div>

      {/* Footer */}
      <footer className="text-center text-gray-500 text-sm mt-8">
        Â© 2025 è™«å¦ˆLTRè‡ªç„¶æ‹¼è¯»
      </footer>
    </div>
  );
};

export default App;
```